<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>diehard</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Diehard</span> <span class="project-version">0.6.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="intro.html"><div class="inner"><span>diehard</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>diehard</span></div></div></li><li class="depth-2 branch"><a href="diehard.circuit-breaker.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>circuit-breaker</span></div></a></li><li class="depth-2 branch"><a href="diehard.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="diehard.rate-limiter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rate-limiter</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#diehard" name="diehard"></a>diehard</h1>
<p><a href="https://travis-ci.org/sunng87/diehard"><img src="https://travis-ci.org/sunng87/diehard.svg?branch=master" alt="Build Status" /></a> <a href="https://clojars.org/diehard"><img src="https://img.shields.io/clojars/v/diehard.svg?maxAge=2592000" alt="Clojars" /></a> <a href=""><img src="https://img.shields.io/github/license/sunng87/diehard.svg?maxAge=2592000" alt="license" /></a></p>
<p>Clojure library to provide safety guard to your application. Some of the functionality is wrapper over <a href="https://github.com/jhalterman/failsafe">Failsafe</a>.</p>
<h2><a href="#usage" name="usage"></a>Usage</h2>
<p>A quick example for diehard usage.</p>
<h3><a href="#retry-block" name="retry-block"></a>Retry block</h3>
<p>A retry block will re-execute inner forms when retry criteria matches.</p>
<pre><code class="clojure">(require '[diehard.core :as dh])
(dh/with-retry {:retry-on TimeoutException
                :max-retries 3}
  (fetch-data-from-the-moon))
</code></pre>
<h3><a href="#circuit-breaker" name="circuit-breaker"></a>Circuit breaker</h3>
<p>A circuit breaker will track the execution of inner block and skip execution if the open condition triggered.</p>
<pre><code class="clojure">(require '[diehard.core :as dh])

(defcircuitbreaker my-cb {:failure-threshold-ratio [8 10]
                          :delay-ms 1000})

(dh/with-circuit-breaker my-cb
  (fetch-data-from-the-moon))
</code></pre>
<h3><a href="#rate-limiter" name="rate-limiter"></a>Rate limiter</h3>
<p>A rate limiter protects your code block to run limited times per second. It will block or throw exception depends on your configuration.</p>
<pre><code class="clojure">(require '[diehard.core :as dh])

(defratelimiter my-rl {:rate 100})

(dh/with-rate-limiter my-rl
  (send-people-to-the-moon))
</code></pre>
<h2><a href="#docs" name="docs"></a>Docs</h2>
<p>More options can be found in the documentation <a href="https://sunng87.github.io/diehard">here</a>.</p>
<h2><a href="#license" name="license"></a>License</h2>
<p>Copyright Â© 2016-2017 Ning Sun</p>
<p>Distributed under the Eclipse Public License either version 1.0 or (at your option) any later version.</p></div></div></div></body></html>